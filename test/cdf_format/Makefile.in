#
# Copyright (C) 2003, Northwestern University and Argonne National Laboratory
# See COPYRIGHT notice in top-level directory.
#
# $Id$
#
# @configure_input@

srcdir  = @srcdir@
VPATH   = @srcdir@

include ../../macros.make

INCLUDES  = -I../../src/lib
LDFLAGS  += -L../../src/lib
LIBS     += -lpnetcdf @LCOV_LIB@

SRCS    = test_inq_format.c cdf_type.c

OBJS    = $(SRCS:.c=.o)
PROGS   = $(SRCS:.c=)

GARBAGE      = $(PROGS) testfile.nc
PACKING_LIST = $(SRCS) Makefile.in

all: $(PROGS)
	set -e; cd ../data && $(MAKE) all

test_inq_format: test_inq_format.o $(LIBRARY)
	$(LINK.c) $< $(LDFLAGS) $(LIBS)

cdf_type: cdf_type.o $(LIBRARY)
	$(LINK.c) $< $(LDFLAGS) $(LIBS)

testing check: all
	@./test_inq_format
	@./cdf_type

verbose_testing: all
	./test_inq_format
	./cdf_type

include $(srcdir)/../../rules.make

